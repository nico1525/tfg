@page "/cuenta"
@inject IJSRuntime JsRuntime
@using API.Models;
@using Web.Services;


<PageTitle>Cuenta</PageTitle>

<style>
    #inilabel {
       font-size: 35px;
    }

    #navbar {
        margin-bottom: 2%;
    }
    #text {
        text-align: center;
    }
    .info{
        font-size: 30px;
    }
    #container{
        background-color:white;
        margin: 4% 20% 0 20%;
    }
</style>

<body>
    <div id="navbar">
        <NavBarLogged>
        </NavBarLogged>
    </div>
    <div id="text"> <label id="inilabel">Información del Usuario</label></div>
    <div id="container">
        <label class="info">@usuario.NombreApellidos</label>
        <label class="info">@usuario.Contraseña</label>
        <label class="info">@usuario.Email</label>
        <label class="info">@usuario.Id</label>

    </div>
</body>


@code {
    UsuarioDTO usuario = new UsuarioDTO();
    List<UsuarioDTO> usuariolist = new List<UsuarioDTO>();

    [Inject]
    public IUsuarioServices UsuarioServices { get; set; }
    async void GetInfoUser()
    {
        try
        {
            usuariolist = await UsuarioServices.GetUsuario();
            usuario = usuariolist.FirstOrDefault();
        }
        catch (Exception e)
        {
            await JsRuntime.InvokeVoidAsync("alert", e.Message);
            return;
        }
    }
    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(1);
        GetInfoUser();
    }
}
